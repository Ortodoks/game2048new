# ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é!

## üéâ –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

### ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:

1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω Dockerfile**
   - –£–¥–∞–ª–µ–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞ –Ω–∞ `server.js`
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–∞–ø–∫–∞ `css/`

2. **–û–±–Ω–æ–≤–ª–µ–Ω—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
   - `docker-compose.yml` - –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É
   - `render.yaml` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ Render
   - `.env.example` - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –±–æ—Ç–∞

3. **–¢–æ–∫–µ–Ω –±–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω –≤–µ–∑–¥–µ**
   - `1832915778:AAEoEWEQLFkG43zhgZ6PfLQyrwci_20_7KE`
   - –û–±–Ω–æ–≤–ª–µ–Ω –≤–æ –≤—Å–µ—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
   - –û–±–Ω–æ–≤–ª–µ–Ω –≤–æ –≤—Å–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞**
   - START_HERE.md
   - QUICK_START.md
   - SETUP_DATABASE.md
   - DEPLOY_FIXED.md
   - server/README.md

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è –¥–µ–ø–ª–æ—è

### 1. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

```bash
git add .
git commit -m "fix: update bot token and deployment configs"
git push origin main
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ MongoDB Atlas (–±–µ—Å–ø–ª–∞—Ç–Ω–æ):

1. https://www.mongodb.com/cloud/atlas
2. –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Ç–µ—Ä M0 (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π)
3. –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î
4. –ü–æ–ª—É—á–∏—Ç–µ connection string:
   ```
   mongodb+srv://username:password@cluster.mongodb.net/2048-game
   ```
5. –í Network Access –¥–æ–±–∞–≤—å—Ç–µ `0.0.0.0/0` (—Ä–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ IP)

### 3. –î–µ–ø–ª–æ–π –Ω–∞ Render.com:

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å: https://render.com
2. New -> Web Service
3. Connect GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `Ortodoks/game2048new`
4. Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥–µ—Ç `render.yaml`
5. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   ```
   MONGODB_URI = mongodb+srv://username:password@cluster.mongodb.net/2048-game
   WEBAPP_URL = https://your-app-name.onrender.com
   ```
6. –ù–∞–∂–º–∏—Ç–µ "Create Web Service"
7. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è (3-5 –º–∏–Ω—É—Ç)

### 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Telegram Bot:

–û—Ç–∫—Ä–æ–π—Ç–µ @BotFather –≤ Telegram –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```
/setmenubutton
–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
button text: üéÆ –ò–≥—Ä–∞—Ç—å
URL: https://your-app-name.onrender.com
```

```
/setcommands
–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞

start - –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
```

```
/setdescription
–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞

üéÆ –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∏–≥—Ä–∞ 2048 –≤ Telegram!
–û–±—ä–µ–¥–∏–Ω—è–π—Ç–µ –ø–ª–∏—Ç–∫–∏ –∏ –¥–æ—Å—Ç–∏–≥–∞–π—Ç–µ 2048!
–°–æ—Ä–µ–≤–Ω—É–π—Ç–µ—Å—å —Å –¥—Ä—É–∑—å—è–º–∏ –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–º —Ä–µ–π—Ç–∏–Ω–≥–µ!
```

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –¥–µ–ø–ª–æ—è

- [ ] Git push –≤—ã–ø–æ–ª–Ω–µ–Ω
- [ ] MongoDB Atlas —Å–æ–∑–¥–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] Web Service —Å–æ–∑–¥–∞–Ω –Ω–∞ Render.com
- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–±–∞–≤–ª–µ–Ω—ã:
  - [ ] MONGODB_URI
  - [ ] WEBAPP_URL
  - [ ] BOT_TOKEN (—É–∂–µ –≤ render.yaml)
- [ ] –î–µ–ø–ª–æ–π —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω
- [ ] `/api/health` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `"database": "connected"`
- [ ] Telegram Bot –Ω–∞—Å—Ç—Ä–æ–µ–Ω —á–µ—Ä–µ–∑ @BotFather
- [ ] –ò–≥—Ä–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –±–æ—Ç–∞

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ health endpoint:
```bash
curl https://your-app-name.onrender.com/api/health
```

–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å:
```json
{
  "status": "ok",
  "database": "connected",
  "mode": "database"
}
```

### 2. –û—Ç–∫—Ä–æ–π—Ç–µ –∏–≥—Ä—É:
```
https://your-app-name.onrender.com
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram Bot:
1. –ù–∞–π–¥–∏—Ç–µ —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å" –∏–ª–∏ /start
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üéÆ –ò–≥—Ä–∞—Ç—å"
4. –ò–≥—Ä–∞ –¥–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:
1. –°—ã–≥—Ä–∞–π—Ç–µ –ø–∞—Ä—Ç–∏—é
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Render Dashboard:
   - "‚úÖ User registered"
   - "‚úÖ Score uploaded"
3. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–π—Ç–∏–Ω–≥ –≤ –∏–≥—Ä–µ - –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å–≤–æ–π —Å—á–µ—Ç

---

## üéØ –í–∞—à–∏ URL (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ)

- **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:** `https://your-app-name.onrender.com`
- **Health check:** `https://your-app-name.onrender.com/api/health`
- **Leaderboard API:** `https://your-app-name.onrender.com/api/leaderboard`
- **Telegram Bot:** `@your_bot_name`

---

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### MongoDB –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ MONGODB_URI –≤ Render Environment
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ MongoDB Atlas Network Access –¥–æ–±–∞–≤–ª–µ–Ω `0.0.0.0/0`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å username/password –≤ connection string

### Build fails –Ω–∞ Render:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Render Dashboard
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ push –≤ GitHub –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `render.yaml` –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω

### Bot –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω —á–µ—Ä–µ–∑ @BotFather
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ WEBAPP_URL - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–æ–º–µ–Ω Render
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### Git:
```bash
git status
git add .
git commit -m "your message"
git push origin main
```

### Render CLI (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
npm install -g render

# –õ–æ–≥–∏
render logs your-service-name

# –î–µ–ø–ª–æ–π
render deploy your-service-name
```

### MongoDB Atlas CLI (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
mongosh "mongodb+srv://cluster.mongodb.net/2048-game" --username your-username

# –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö
use 2048-game
db.users.find()
db.scores.find().sort({score: -1}).limit(10)
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –í Render Dashboard:
- **Metrics** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU, –ø–∞–º—è—Ç–∏
- **Logs** - –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **Events** - –∏—Å—Ç–æ—Ä–∏—è –¥–µ–ø–ª–æ–µ–≤
- **Environment** - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –í MongoDB Atlas:
- **Metrics** - –∑–∞–ø—Ä–æ—Å—ã, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- **Database** - —Ä–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö
- **Network Access** - IP whitelist

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç:
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ –≤ Telegram –∫–∞–∫ Mini App
- ‚úÖ –†–∞–±–æ—Ç–∞—Ç—å —Å MongoDB –≤ –æ–±–ª–∞–∫–µ
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è—Ç—å –≤—Å–µ –∏–≥—Ä–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

**–£–¥–∞—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞! üöÄ**

---

## üìû –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–¢–æ–∫–µ–Ω –±–æ—Ç–∞:** `1832915778:AAEoEWEQLFkG43zhgZ6PfLQyrwci_20_7KE`

**–ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞:** `cd server && node server.js`

**–ü–æ—Ä—Ç—ã:**
- Development: 3000
- Production (Render): 10000

**–†–µ–∂–∏–º—ã:**
- –° MongoDB: `npm run start:full` –∏–ª–∏ `node server.js`
- –ë–µ–∑ MongoDB: `npm run start` –∏–ª–∏ `node server-simple.js`
